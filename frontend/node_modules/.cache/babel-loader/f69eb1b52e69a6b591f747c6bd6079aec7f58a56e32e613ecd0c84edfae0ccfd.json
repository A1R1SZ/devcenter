{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import TopNavbar from\"../components/topNavbar\";import{Box,Typography,TextField,Button,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,Card}from\"@mui/material\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function SettingsPage(){const[profile,setProfile]=useState({username:\"\",email:\"\"});const[password,setPassword]=useState(\"\");const[openDeleteDialog,setOpenDeleteDialog]=useState(false);const[openEditDialog,setOpenEditDialog]=useState(false);const[editType,setEditType]=useState(\"\");const[tempUsername,setTempUsername]=useState(\"\");const[tempEmail,setTempEmail]=useState(\"\");const[confirmUsername,setconfirmUsername]=useState(\"\");const[confirmEmail,setconfirmEmail]=useState(\"\");const navigate=useNavigate();function getMaskedEmail(email){if(!email||email.length<3)return email;const visible=email.slice(0,3);const obfuscated=email.slice(3).replace(/./g,\"*\");return visible+obfuscated;}useEffect(()=>{const fetchProfile=async()=>{const token=localStorage.getItem(\"token\");if(!token)return;try{const response=await fetch(\"http://localhost:5000/get-profile-info\",{headers:{Authorization:`Bearer ${token}`}});const data=await response.json();console.log(\"Profile Info:\",data);setProfile(data);}catch(error){console.error(\"Error fetching profile:\",error);}};fetchProfile();},[]);const handleDeleteProfile=async()=>{const token=localStorage.getItem(\"token\");const username=localStorage.getItem(\"username\");if(!token){alert(\"You must be logged in to delete your profile.\");return;}try{const response=await fetch(\"http://localhost:5000/delete-account\",{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":`Bearer ${token}`},body:JSON.stringify({username,password})});const data=await response.json();if(response.ok){alert(\"Profile deleted successfully!\");localStorage.removeItem(\"token\");sessionStorage.removeItem('token');localStorage.removeItem(\"settings\");setOpenDeleteDialog(false);navigate('/');}else{alert(`Error: ${data.message}`);}}catch(error){console.error(\"Delete failed\",error);alert(\"Something went wrong. Please try again.\");}};const handleSave=async()=>{const token=localStorage.getItem(\"token\");// Simple client-side validation\nif(editType===\"username\"&&tempUsername!==confirmUsername){alert(\"Usernames do not match.\");return;}if(editType===\"email\"&&tempEmail!==confirmEmail){alert(\"Emails do not match.\");return;}try{const response=await fetch(\"http://localhost:5000/update-profile\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${token}`},body:JSON.stringify({newUsername:editType===\"username\"?tempUsername:undefined,newEmail:editType===\"email\"?tempEmail:undefined})});const data=await response.json();if(response.ok){alert(\"Profile updated successfully!\");setProfile(prev=>({...prev,username:editType===\"username\"?tempUsername:prev.username,email:editType===\"email\"?tempEmail:prev.email}));setOpenEditDialog(false);setTempUsername(\"\");setTempEmail(\"\");setconfirmUsername(\"\");setconfirmEmail(\"\");window.location.reload();}else{alert(`Error: ${data.message}`);}}catch(error){console.error(\"Update failed\",error);alert(\"Something went wrong while updating.\");}};const inputStyles={\"& .MuiOutlinedInput-root\":{\"& fieldset\":{borderColor:\"white\"},\"&:hover fieldset\":{borderColor:\"#00bcd4\"},\"&.Mui-focused fieldset\":{borderColor:\"#00bcd4\"}},input:{color:\"white\"},label:{color:\"white\"},backgroundColor:\"#4a4a4a\",borderRadius:\"5px\"};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TopNavbar,{}),/*#__PURE__*/_jsx(Typography,{sx:{position:\"fixed\",left:\"20px\",top:\"50%\",transform:\"translateY(-50%)\",color:\"white\",fontWeight:600,fontSize:30},children:\"SETTINGS\"}),/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"center\",width:\"80%\",marginLeft:\"20%\",paddingTop:\"20px\",backgroundColor:\"#181818\",minHeight:\"90vh\"},children:/*#__PURE__*/_jsx(Box,{sx:{width:\"95%\"},children:/*#__PURE__*/_jsxs(Card,{sx:{padding:\"15px\",backgroundColor:\"#393636\"},children:[/*#__PURE__*/_jsx(Typography,{color:\"White\",children:\"Personal Information\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",flexDirection:\"column\",gap:2,mt:1},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:2},children:[/*#__PURE__*/_jsxs(Typography,{color:\"white\",children:[\"Username: \",profile.username]}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>{setOpenEditDialog(true);setEditType(\"username\");},children:\"Change\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\",gap:2},children:[/*#__PURE__*/_jsxs(Typography,{color:\"white\",children:[\"Email:\",getMaskedEmail(profile.email)]}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>{setOpenEditDialog(true);setEditType(\"email\");},children:\"Change\"})]})]}),/*#__PURE__*/_jsx(Button,{style:{backgroundColor:\"white\"},children:\"Save Profile\"})]})})}),/*#__PURE__*/_jsxs(Dialog,{open:openEditDialog,onClose:()=>setOpenEditDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{backgroundColor:\"#393636\",color:\"white\"},children:editType===\"username\"?\" Change Username\":editType===\"email\"?\"Change Email\":/*#__PURE__*/_jsx(_Fragment,{})}),/*#__PURE__*/_jsxs(DialogContent,{sx:{backgroundColor:\"#393636\",color:\"white\"},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,sx:{mt:2,...inputStyles,color:\"white\"},label:editType===\"username\"?\"New Username\":editType===\"email\"?\"New Email\":/*#__PURE__*/_jsx(_Fragment,{}),value:editType===\"username\"?tempUsername:editType===\"email\"?tempEmail:/*#__PURE__*/_jsx(_Fragment,{}),onChange:e=>{editType===\"username\"?setTempUsername(e.target.value):editType===\"email\"?setTempEmail(e.target.value):/*#__PURE__*/_jsx(_Fragment,{});}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,sx:{mt:2,...inputStyles,color:\"white\"},label:editType===\"username\"?\"Confirm Username\":editType===\"email\"?\"Confirm Email\":/*#__PURE__*/_jsx(_Fragment,{}),value:editType===\"username\"?confirmUsername:editType===\"email\"?confirmEmail:/*#__PURE__*/_jsx(_Fragment,{}),onChange:e=>{editType===\"username\"?setconfirmUsername(e.target.value):editType===\"email\"?setconfirmEmail(e.target.value):/*#__PURE__*/_jsx(_Fragment,{});}})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{backgroundColor:\"#393636\"},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenEditDialog(false),sx:{color:\"white\"},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSave,sx:{color:\"white\"},children:\"Confirm\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:openDeleteDialog,onClose:()=>setOpenDeleteDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{backgroundColor:\"#393636\",color:\"white\"},children:\"Delete Profile\"}),/*#__PURE__*/_jsxs(DialogContent,{sx:{backgroundColor:\"#393636\",color:\"white\"},children:[/*#__PURE__*/_jsx(DialogContentText,{sx:{color:\"white\"},children:\"Are you sure you want to delete your profile? This action cannot be undone.\"}),/*#__PURE__*/_jsx(TextField,{label:\"Confirmation Password\",type:\"password\",variant:\"outlined\",fullWidth:true,sx:{mt:2,...inputStyles},value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{backgroundColor:\"#393636\",color:\"white\"},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setOpenDeleteDialog(false),color:\"primary\",sx:{backgroundColor:\"white\"},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleDeleteProfile,color:\"black\",sx:{backgroundColor:\"red\"},children:\"Delete\"})]})]})]});}export default SettingsPage;","map":{"version":3,"names":["React","useEffect","useState","TopNavbar","Box","Typography","TextField","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Card","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SettingsPage","profile","setProfile","username","email","password","setPassword","openDeleteDialog","setOpenDeleteDialog","openEditDialog","setOpenEditDialog","editType","setEditType","tempUsername","setTempUsername","tempEmail","setTempEmail","confirmUsername","setconfirmUsername","confirmEmail","setconfirmEmail","navigate","getMaskedEmail","length","visible","slice","obfuscated","replace","fetchProfile","token","localStorage","getItem","response","fetch","headers","Authorization","data","json","console","log","error","handleDeleteProfile","alert","method","body","JSON","stringify","ok","removeItem","sessionStorage","message","handleSave","newUsername","undefined","newEmail","prev","window","location","reload","inputStyles","borderColor","input","color","label","backgroundColor","borderRadius","children","sx","position","left","top","transform","fontWeight","fontSize","display","justifyContent","width","marginLeft","paddingTop","minHeight","padding","flexDirection","gap","mt","alignItems","size","onClick","style","open","onClose","fullWidth","value","onChange","e","target","type","variant"],"sources":["C:/Users/AIRISZ/devcenter/frontend/src/pages/SettingsPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport TopNavbar from \"../components/topNavbar\";\r\nimport {\r\n  Box,\r\n\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Card,\r\n} from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction SettingsPage() {\r\n\r\n  const [profile, setProfile] = useState({ username: \"\", email: \"\" });\r\n  const [password, setPassword] = useState(\"\");\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [openEditDialog,setOpenEditDialog] = useState(false);\r\n  const [editType,setEditType]= useState(\"\");\r\n\r\n  const [tempUsername, setTempUsername] = useState(\"\");\r\n  const [tempEmail, setTempEmail] = useState(\"\");\r\n  const [confirmUsername, setconfirmUsername] = useState(\"\");\r\n  const [confirmEmail, setconfirmEmail] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  \r\n\r\n  function getMaskedEmail(email) {\r\n    if (!email || email.length < 3) return email;\r\n    const visible = email.slice(0, 3);\r\n    const obfuscated = email.slice(3).replace(/./g, \"*\");\r\n    return visible + obfuscated;\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/get-profile-info\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n        const data = await response.json();\r\n        console.log(\"Profile Info:\",data)\r\n        setProfile(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const handleDeleteProfile = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const username = localStorage.getItem(\"username\"); \r\n  \r\n    if (!token) {\r\n      alert(\"You must be logged in to delete your profile.\");\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/delete-account\", {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ username,password }),\r\n      });\r\n  \r\n      const data = await response.json();\r\n  \r\n      if (response.ok) {\r\n        alert(\"Profile deleted successfully!\");\r\n        localStorage.removeItem(\"token\");\r\n        sessionStorage.removeItem('token');\r\n        localStorage.removeItem(\"settings\");\r\n        setOpenDeleteDialog(false);\r\n        navigate('/');\r\n      } else {\r\n        alert(`Error: ${data.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Delete failed\", error);\r\n      alert(\"Something went wrong. Please try again.\");\r\n    }\r\n  };\r\n  \r\n\r\n  const handleSave = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n  \r\n    // Simple client-side validation\r\n    if (editType === \"username\" && tempUsername !== confirmUsername) {\r\n      alert(\"Usernames do not match.\");\r\n      return;\r\n    }\r\n    if (editType === \"email\" && tempEmail !== confirmEmail) {\r\n      alert(\"Emails do not match.\");\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/update-profile\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          newUsername: editType === \"username\" ? tempUsername : undefined,\r\n          newEmail: editType === \"email\" ? tempEmail : undefined,\r\n        }),\r\n      });\r\n  \r\n      const data = await response.json();\r\n  \r\n      if (response.ok) {\r\n        alert(\"Profile updated successfully!\");\r\n        setProfile((prev) => ({\r\n          ...prev,\r\n          username: editType === \"username\" ? tempUsername : prev.username,\r\n          email: editType === \"email\" ? tempEmail : prev.email,\r\n        }));\r\n        setOpenEditDialog(false);\r\n        setTempUsername(\"\");\r\n        setTempEmail(\"\");\r\n        setconfirmUsername(\"\");\r\n        setconfirmEmail(\"\");\r\n        window.location.reload();\r\n      } else {\r\n        alert(`Error: ${data.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Update failed\", error);\r\n      alert(\"Something went wrong while updating.\");\r\n    }\r\n  };\r\n  \r\n\r\n  const inputStyles = {\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": { borderColor: \"white\" },\r\n      \"&:hover fieldset\": { borderColor: \"#00bcd4\" },\r\n      \"&.Mui-focused fieldset\": { borderColor: \"#00bcd4\" },\r\n    },\r\n    input: { color: \"white\" },\r\n    label: { color: \"white\" },\r\n    backgroundColor: \"#4a4a4a\",\r\n    borderRadius: \"5px\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TopNavbar />\r\n      <Typography\r\n        sx={{\r\n          position: \"fixed\",\r\n          left: \"20px\",\r\n          top: \"50%\",\r\n          transform: \"translateY(-50%)\",\r\n          color: \"white\",\r\n          fontWeight: 600,\r\n          fontSize: 30,\r\n        }}\r\n      >\r\n        SETTINGS\r\n      </Typography>\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          width: \"80%\",\r\n          marginLeft: \"20%\",\r\n          paddingTop: \"20px\",\r\n          backgroundColor: \"#181818\",\r\n          minHeight: \"90vh\",\r\n        }}\r\n      >\r\n        {/* <Box sx={{ width: \"50%\" }}>\r\n          <Card sx={{padding:\"10px\",backgroundColor: \"#393636\",}}>\r\n            <TextField \r\n              label='Current Username' \r\n              required \r\n              fullWidth \r\n              margin='normal' \r\n              sx={{\r\n                backgroundColor: \"#393636\",\r\n                borderRadius: \"5px\",\r\n                \"& .MuiInputBase-input\": { color: \"white\" },\r\n                \"& .MuiInputLabel-root\": { color: \"whitesmoke\" },\r\n                \"& .MuiInputLabel-root.Mui-focused\": { color: \"white\" },\r\n              }}\r\n            />\r\n            <TextField \r\n              label='Password' \r\n              required \r\n              type='password' \r\n              fullWidth \r\n              margin='normal'\r\n              sx={{\r\n                backgroundColor: \"#393636\",\r\n                borderRadius: \"5px\",\r\n                \"& .MuiInputBase-input\": { color: \"white\" },\r\n                \"& .MuiInputLabel-root\": { color: \"whitesmoke\" },\r\n                \"& .MuiInputLabel-root.Mui-focused\": { color: \"white\" },\r\n              }}\r\n            />\r\n          <Button variant=\"contained\" color=\"error\" sx={{mt:2 ,width:\"50%\"}} onClick={() => setOpenDeleteDialog(true)}>\r\n                  Delete Profile\r\n          </Button>\r\n          </Card>\r\n        </Box> */}\r\n        <Box sx={{width:\"95%\"}}>\r\n          <Card sx={{padding:\"15px\",backgroundColor: \"#393636\",}}>\r\n            <Typography color=\"White\">Personal Information</Typography>\r\n            <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 2, mt: 1 }}>\r\n              <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 2 }}>\r\n                <Typography color=\"white\">Username: {profile.username}</Typography>\r\n                <Button \r\n                  size=\"small\" \r\n                  onClick={() => {\r\n                    setOpenEditDialog(true);\r\n                    setEditType(\"username\");\r\n                  }}\r\n                >\r\n                  Change\r\n                </Button>\r\n              </Box>\r\n              <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 2 }}>\r\n                <Typography color=\"white\">Email:{ getMaskedEmail(profile.email)}</Typography>\r\n                <Button \r\n                  size=\"small\" \r\n                  onClick={() => {\r\n                    setOpenEditDialog(true);\r\n                    setEditType(\"email\");\r\n                  }}\r\n                >\r\n                  Change\r\n                </Button>\r\n              </Box> \r\n            </Box>\r\n\r\n            <Button style={{backgroundColor:\"white\"}}>Save Profile</Button>\r\n          </Card>\r\n        </Box>\r\n      </Box>\r\n      <Dialog open={openEditDialog} onClose={()=> setOpenEditDialog(false)}>\r\n      <DialogTitle sx={{backgroundColor: \"#393636\",color:\"white\"}}>{editType === \"username\"?\" Change Username\":editType === \"email\"?\"Change Email\":<></>}</DialogTitle>\r\n      <DialogContent sx={{backgroundColor: \"#393636\", color:\"white\"}}>\r\n        <TextField\r\n          fullWidth\r\n          sx={{ mt: 2, ...inputStyles,color:\"white\" }}\r\n          label={editType === \"username\"?\"New Username\":editType===\"email\"?\"New Email\":<></>}\r\n          value={editType === \"username\"?tempUsername:editType===\"email\"?tempEmail:<></>}\r\n          onChange={(e)=>{editType === \"username\"?setTempUsername(e.target.value):editType === \"email\"?setTempEmail(e.target.value):<></>}}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          sx={{ mt: 2, ...inputStyles,color:\"white\" }}\r\n          label={editType === \"username\"?\"Confirm Username\":editType===\"email\"?\"Confirm Email\":<></>}\r\n          value={editType === \"username\"?confirmUsername:editType===\"email\"?confirmEmail:<></>}\r\n          onChange={(e)=>{editType === \"username\"?setconfirmUsername(e.target.value):editType === \"email\"?setconfirmEmail(e.target.value):<></>}}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions sx={{ backgroundColor: \"#393636\" }}>\r\n        <Button onClick={() => setOpenEditDialog(false)} sx={{ color: \"white\" }}>\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} sx={{ color: \"white\" }}>\r\n          Confirm\r\n        </Button>\r\n      </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Delete Profile Confirmation Dialog */}\r\n      <Dialog open={openDeleteDialog} onClose={() => setOpenDeleteDialog(false)}>\r\n        <DialogTitle sx={{backgroundColor: \"#393636\",color:\"white\"}}>Delete Profile</DialogTitle>\r\n        <DialogContent sx={{backgroundColor: \"#393636\", color:\"white\"}}>\r\n          <DialogContentText sx={{color:\"white\"}}>Are you sure you want to delete your profile? This action cannot be undone.</DialogContentText>\r\n          <TextField\r\n                label=\"Confirmation Password\"\r\n                type=\"password\"\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                sx={{ mt: 2, ...inputStyles }}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n        </DialogContent>\r\n        <DialogActions sx={{backgroundColor: \"#393636\",color:\"white\"}}>\r\n          <Button onClick={() => setOpenDeleteDialog(false)} color=\"primary\" sx={{backgroundColor:\"white\"}}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleDeleteProfile} color=\"black\"sx={{backgroundColor:\"red\"}}>\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SettingsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}